(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{D5Hz:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("MkV5"),r=t("USkh"),o=null,s="https://api.emailjs.com";function i(n,e,t){return void 0===t&&(t={}),new Promise(function(r,o){var s=new XMLHttpRequest;for(var i in s.addEventListener("load",function(n){var e=new l.EmailJSResponseStatus(n.target);200===e.status||"OK"===e.text?r(e):o(e)}),s.addEventListener("error",function(n){o(new l.EmailJSResponseStatus(n.target))}),s.open("POST",n,!0),t)s.setRequestHeader(i,t[i]);s.send(e)})}function u(n){var e=document.getElementById("g-recaptcha-response");return e&&e.value&&(n["g-recaptcha-response"]=e.value),e=null,n}e.init=function(n,e){o=n,s=e||"https://api.emailjs.com"},e.send=function(n,e,t,l){var r={lib_version:"2.3.2",user_id:l||o,service_id:n,template_id:e,template_params:u(t)};return i(s+"/api/v1.0/email/send",JSON.stringify(r),{"Content-type":"application/json"})},e.sendForm=function(n,e,t,l){if("string"==typeof t&&(t=document.querySelector(t)),!t||"FORM"!==t.nodeName)throw"Expected the HTML form element or the style selector of form";r.UI.progressState(t);var u=new FormData(t);return u.append("lib_version","2.3.2"),u.append("service_id",n),u.append("template_id",e),u.append("user_id",l||o),i(s+"/api/v1.0/email/send-form",u).then(function(n){return r.UI.successState(t),n},function(n){return r.UI.errorState(t),Promise.reject(n)})}},HFTU:function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),r=t("D5Hz"),o=t("ZZ/e"),s=function(n,e,t,l){return new(t||(t=Promise))(function(r,o){function s(n){try{u(l.next(n))}catch(e){o(e)}}function i(n){try{u(l.throw(n))}catch(e){o(e)}}function u(n){n.done?r(n.value):new t(function(e){e(n.value)}).then(s,i)}u((l=l.apply(n,e||[])).next())})},i=function(n,e){var t,l,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,l&&(r=2&o[0]?l.return:o[0]?l.throw||((r=l.return)&&r.call(l),0):l.next)&&!(r=r.call(l,o[1])).done)return r;switch(l=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,l=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(n,s)}catch(i){o=[6,i],l=0}finally{t=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},u=function(){function n(n,e,t){this.toastController=n,this.loadingController=e,this.alertController=t,this.locations=[{location:"Prato",subject:"Presenza Baldassarri",body:"Salve, solo per comunicare che oggi sar\xf2 in sede a Prato",from:"baldassarri@gmail.com",recipients:["baldassarri@gmail.com"]},{location:"Roma",subject:"Presenza Baldassarri",body:"Salve, solo per comunicare che oggi lavorer\xf2 presso la sede di Roma",from:"baldassarri@gmail.com",recipients:["baldassarri@gmail.com"]}]}return n.prototype.setPresence=function(n){return s(this,void 0,void 0,function(){var e,t=this;return i(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Invia presenza",message:'Inviare la presenza di oggi su <strong>"'+n.location+'"</strong>?',buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){}},{text:"Ok",handler:function(){return s(t,void 0,void 0,function(){var t=this;return i(this,function(l){switch(l.label){case 0:return[4,e.present()];case 1:return l.sent(),[4,this._presentLoading()];case 2:return l.sent(),[4,this._sendPresenceMail(n.subject,n.body).then(function(n){t._presentToast("Your presence has been sended")}).catch(function(n){t._presentToast("Error on sending mail")}).finally(function(){t.loadingController.dismiss()})];case 3:return l.sent(),[2]}})})}}]})];case 1:return[4,(e=l.sent()).present()];case 2:return l.sent(),[2]}})})},n.prototype._sendPresenceMail=function(n,e){return new Promise(function(t,l){r.send("gmail","presenza",{presence_subject:n,message_html:e},"user_qpY9CjXCounpW4oMIH8v2").then(function(n){t(n.status)},function(n){l(n)})})},n.prototype._presentLoading=function(){return s(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.loadingController.create({message:"Sending mail",cssClass:"loading-overlay"})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},n.prototype._presentToast=function(n){return s(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.toastController.create({message:n,duration:2e3})];case 1:return e.sent().present(),[2]}})})},n.prototype.presentAlertConfirm=function(){return s(this,void 0,void 0,function(){return i(this,function(n){return[2]})})},n.prototype.ngOnInit=function(){},n}(),a=function(){return function(){}}(),c=t("pMnS"),p=t("oBZk"),d=t("Ip0R"),b=l.mb({encapsulation:0,styles:[[""]],data:{}});function f(n){return l.Bb(0,[(n()(),l.ob(0,0,null,null,6,"ion-item",[["color","dark"],["detail",""]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.setPresence(n.context.$implicit)&&l),l},p.o,p.e)),l.nb(1,49152,null,0,o.F,[l.h,l.k],{color:[0,"color"],detail:[1,"detail"]},null),(n()(),l.ob(2,0,null,0,4,"ion-label",[],null,null,null,p.p,p.f)),l.nb(3,49152,null,0,o.L,[l.h,l.k],null,null),(n()(),l.Ab(-1,0,[" Invia presenza su: "])),(n()(),l.ob(5,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),l.Ab(6,null,["",""]))],function(n,e){n(e,1,0,"dark","")},function(n,e){n(e,6,0,e.context.$implicit.location)})}function h(n){return l.Bb(0,[(n()(),l.ob(0,0,null,null,6,"ion-header",[],null,null,null,p.m,p.c)),l.nb(1,49152,null,0,o.z,[l.h,l.k],null,null),(n()(),l.ob(2,0,null,0,4,"ion-toolbar",[["color","dark"]],null,null,null,p.t,p.j)),l.nb(3,49152,null,0,o.zb,[l.h,l.k],{color:[0,"color"]},null),(n()(),l.ob(4,0,null,0,2,"ion-title",[],null,null,null,p.s,p.i)),l.nb(5,49152,null,0,o.xb,[l.h,l.k],null,null),(n()(),l.Ab(-1,0,["I am here"])),(n()(),l.ob(7,0,null,null,9,"ion-content",[["padding",""]],null,null,null,p.l,p.b)),l.nb(8,49152,null,0,o.s,[l.h,l.k],null,null),(n()(),l.ob(9,0,null,0,3,"ion-row",[["justify-content-center",""],["padding",""]],null,null,null,p.r,p.h)),l.nb(10,49152,null,0,o.gb,[l.h,l.k],null,null),(n()(),l.ob(11,0,null,0,1,"ion-icon",[["name","paper-plane"],["style","font-size: 156px; color: #a52a2a"]],null,null,null,p.n,p.d)),l.nb(12,49152,null,0,o.A,[l.h,l.k],{name:[0,"name"]},null),(n()(),l.ob(13,0,null,0,3,"ion-list",[["padding-top",""]],null,null,null,p.q,p.g)),l.nb(14,49152,null,0,o.M,[l.h,l.k],null,null),(n()(),l.fb(16777216,null,0,1,null,f)),l.nb(16,278528,null,0,d.h,[l.N,l.K,l.s],{ngForOf:[0,"ngForOf"]},null)],function(n,e){var t=e.component;n(e,3,0,"dark"),n(e,12,0,"paper-plane"),n(e,16,0,t.locations)},null)}function m(n){return l.Bb(0,[(n()(),l.ob(0,0,null,null,1,"app-presence",[],null,null,null,h,b)),l.nb(1,114688,null,0,u,[o.Ib,o.Db,o.a],null,null)],function(n,e){n(e,1,0)},null)}var v=l.kb("app-presence",u,m,{},{},[]),g=t("gIcY"),y=t("ZYCi");t.d(e,"PresencePageModuleNgFactory",function(){return S});var S=l.lb(a,[],function(n){return l.ub([l.vb(512,l.j,l.ab,[[8,[c.a,v]],[3,l.j],l.x]),l.vb(4608,d.j,d.i,[l.u,[2,d.q]]),l.vb(4608,g.c,g.c,[]),l.vb(4608,o.b,o.b,[l.z,l.g]),l.vb(4608,o.Eb,o.Eb,[o.b,l.j,l.q]),l.vb(4608,o.Hb,o.Hb,[o.b,l.j,l.q]),l.vb(1073742336,d.b,d.b,[]),l.vb(1073742336,g.b,g.b,[]),l.vb(1073742336,g.a,g.a,[]),l.vb(1073742336,o.Bb,o.Bb,[]),l.vb(1073742336,y.n,y.n,[[2,y.t],[2,y.m]]),l.vb(1073742336,a,a,[]),l.vb(1024,y.k,function(){return[[{path:"",component:u}]]},[])])})},MkV5:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmailJSResponseStatus=function(){return function(n){this.status=n.status,this.text=n.responseText}}()},USkh:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UI=function(){function n(){}return n.clearAll=function(n){n.classList.remove(this.PROGRESS),n.classList.remove(this.DONE),n.classList.remove(this.ERROR)},n.progressState=function(n){this.clearAll(n),n.classList.add(this.PROGRESS)},n.successState=function(n){n.classList.remove(this.PROGRESS),n.classList.add(this.DONE)},n.errorState=function(n){n.classList.remove(this.PROGRESS),n.classList.add(this.ERROR)},n.PROGRESS="emailjs-sending",n.DONE="emailjs-success",n.ERROR="emailjs-error",n}()}}]);